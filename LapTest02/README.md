# Lab Test Round 2

จงเขียนโปรแกรมภาษาจาวาชื่อ Client.java และ Server.java ที่จะทำงานร่วมกันผ่านโปรโตคอล TCP
โดย Server เปิดให้บริการที่ port หมายเลข 55555


คุณลักษณะของโปรแกรม Client.java             (3 คะแนน)

รับค่า argument จากผู้ใช้ เป็นคำสั่ง และค่าตัวเลขจำนวนเต็มจาก Client (สามารถรับได้ตั้งแต่ 1 ค่าขึ้นไป)
คำสั่งมี 2 คำสั่งคือ sum และ mode
Client จะส่งคำสั่งแล้วค่าตัวเลขจำนวนเต็มไปยัง Server เพื่อคำนวณผลลัพธ์
แล้วรับผลลัพธ์จาก Server มาแสดงออกบนหน้าจอ
ถ้าผู้ใช้ป้อน argument ตัวที่ 1 ไม่ใช่ “mode” และ “sum” ให้แสดง “Command not found”

ถ้าผู้ใช้ป้อนคำสั่งถูกแต่ไม่มี argument ตัวที่ 2 เป็นต้นไป ให้แสดง “Data not found”

ถ้าผู้ใช้ไม่ป้อน argument หรือค่าของ argument ตัวที่ 2 เป็นต้นไป ไม่เป็นจำนวนเต็มให้แสดง “Error Args”
 

คุณลักษณะของโปรแกรม Server.java (Multi-thread รองรับการทำงานพร้อมกัน 20 Client)      (1 คะแนน)



รับคำสั่งและรับค่าตัวเลขจำนวนเต็มจาก Client (สามารถรับได้ตั้งแต่ 1 ค่าขึ้นไป)             

ถ้าคำสั่งเป็น  mode ให้คำนวณหาค่าฐานนิยมจากตัวเลขที่รับมา ถ้าไม่มีค่าฐานนิยมให้คืน mode = -1   (3 คะแนน)
ถ้ามี mode หลายค่า(จำนวนมากสุดเท่ากัน) ให้คืน mode = -1
ถ้าคำสั่งเป็น sum ให้คำนวณหาค่าผลรวมทั้งหมดจากจากตัวเลขที่รับมา                  (2 คะแนน)
Server คำนวณค่าเรียบร้อย จะส่งผลลัพธ์กลับไปยัง Client                                    (1 คะแนน)
****** ถ้า compile ไม่ผ่าน หรือ runtime error ได้ 0 ในโปรแกรมนั้นทันที  ******

 

การออกแบบ Protocol : ฝ่าย Server จะไม่รู้ถึงจำนวนค่าที่ Client ต้องการจะส่ง ให้ Client ส่งข้อความว่า “END” เพื่อให้ Server รู้ว่าข้อมูลของ Client หมดแล้ว
